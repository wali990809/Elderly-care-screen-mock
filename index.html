<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Panel de Paciente - Elderly Care</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script>
  tailwind.config = {
    darkMode: "class",
    theme: {
      extend: {
        colors: {
          "primary": "#13ec5b",
          "background-light": "#f6f8f6",
          "background-dark": "#102216",
          "card-light": "#ffffff",
          "card-dark": "#1a2c20",
          "text-light-primary": "#111813",
          "text-dark-primary": "#e3f3e8",
          "text-light-secondary": "#61896f",
          "text-dark-secondary": "#9dc2a8",
          "icon-bg-light": "#f0f4f2",
          "icon-bg-dark": "#2a3f31",
          "emergency": "#D0021B",
          "warning": "#f59e0b",
          "success": "#10B981",
        },
        fontFamily: {
          "display": ["Lexend", "sans-serif"]
        },
        borderRadius: {"DEFAULT": "0.5rem", "lg": "0.75rem", "xl": "1rem", "full": "9999px"},
      },
    },
  }
</script>
<style>
  .material-symbols-outlined {
    font-variation-settings:
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 24
  }
  body {
    min-height: max(884px, 100dvh);
  }
  .notification {
    position: fixed;
    top: 20px;
    right: 20px;
    padding: 16px 20px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 1000;
    opacity: 0;
    transform: translateX(100px);
    transition: all 0.3s ease;
  }
  .notification.show {
    opacity: 1;
    transform: translateX(0);
  }
  .notification-success {
    background-color: #10B981;
    color: white;
  }
  .notification-error {
    background-color: #EF4444;
    color: white;
  }
  .notification-warning {
    background-color: #F59E0B;
    color: white;
  }
  .notification-info {
    background-color: #3B82F6;
    color: white;
  }
</style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light-primary dark:text-text-dark-primary">
<div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden pb-32">
  
  <!-- Header -->
  <div class="flex items-center bg-background-light dark:bg-background-dark p-4 pb-2 justify-between sticky top-0 z-10 backdrop-blur-sm bg-background-light/80 dark:bg-background-dark/80">
    <div class="flex items-center gap-3">
      <div class="bg-center bg-no-repeat aspect-square bg-cover rounded-full size-10" style='background-image: url("https://montesalud.com/wp-content/uploads/2017/05/los-ancianos-no-estan-siempre-deprimidos.jpg");'></div>
      <div>
        <h2 class="text-text-light-primary dark:text-text-dark-primary text-lg font-bold leading-tight tracking-[-0.015em]">Hola, Carlos</h2>
        <div class="text-xs text-text-light-secondary dark:text-text-dark-secondary space-y-0.5 mt-1">
          <p>70 años • Paciente</p>
          <p>Diabetes tipo 2</p>
          <p>Cuidador: Andrés (hijo)</p>
        </div>
      </div>
    </div>
    <div class="flex items-center gap-2">
      <button onclick="toggleDarkMode()" class="flex size-10 items-center justify-center hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark rounded-full transition-colors">
        <span id="dark-mode-icon" class="material-symbols-outlined text-xl">dark_mode</span>
      </button>
      <button onclick="abrirSidebar()" class="flex size-10 items-center justify-center hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark rounded-full transition-colors">
        <span class="material-symbols-outlined text-xl">settings</span>
      </button>
    </div>
  </div>

  <!-- Recordatorio Importante -->
  <div id="recordatorio" class="p-4 transition-all duration-300 overflow-hidden" style="max-height: 500px;">
    <div class="rounded-xl bg-warning/10 dark:bg-warning/20 border-2 border-warning p-4 shadow-lg">
      <div class="flex items-start gap-3">
        <div class="flex-shrink-0">
          <span class="material-symbols-outlined text-warning text-3xl">notification_important</span>
        </div>
        <div class="flex-1">
          <h3 class="text-lg font-bold text-text-light-primary dark:text-text-dark-primary mb-2">Recordatorio Importante</h3>
          <p class="text-sm text-text-light-primary dark:text-text-dark-primary mb-4">
            <strong>Medicamento próximo:</strong> Metformina 850mg<br/>
            <strong>Hora:</strong> 2:00 PM<br/>
            <strong>Nota:</strong> Tomar después de comer
          </p>
          <div class="flex gap-2">
            <button onclick="aceptarRecordatorio()" class="flex-1 py-2 px-4 rounded-lg bg-primary text-text-light-primary font-medium hover:bg-primary/90 transition-colors">
              Aceptar
            </button>
            <button onclick="posponerRecordatorio()" class="px-4 py-2 rounded-lg border border-warning text-warning font-medium hover:bg-warning/10 transition-colors">
              Posponer
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Grid de accesos rápidos -->
  <div class="p-4">
    <div class="grid grid-cols-2 gap-4">
      <a href="medicamentos.html" class="flex flex-col items-center justify-center gap-2 p-4 rounded-xl bg-card-light dark:bg-card-dark text-text-light-primary dark:text-text-dark-primary shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none aspect-square hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark transition-all duration-200">
        <span class="material-symbols-outlined text-4xl">pill</span>
        <span class="text-base font-medium">Medicamentos</span>
      </a>
      <a href="citas.html" class="flex flex-col items-center justify-center gap-2 p-4 rounded-xl bg-card-light dark:bg-card-dark text-text-light-primary dark:text-text-dark-primary shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none aspect-square hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark transition-all duration-200">
        <span class="material-symbols-outlined text-4xl">calendar_today</span>
        <span class="text-base font-medium">Citas</span>
      </a>
      <button onclick="mostrarAlarma()" class="flex flex-col items-center justify-center gap-2 p-4 rounded-xl bg-card-light dark:bg-card-dark text-text-light-primary dark:text-text-dark-primary shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none aspect-square hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark transition-all duration-200">
        <span class="material-symbols-outlined text-4xl">alarm</span>
        <span class="text-base font-medium">Alarma</span>
      </button>
      <button onclick="mostrarEmergencia()" class="flex flex-col items-center justify-center gap-2 p-4 rounded-xl bg-emergency/10 dark:bg-emergency/20 text-emergency shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none aspect-square hover:bg-emergency/20 dark:hover:bg-emergency/30 transition-all duration-200">
        <span class="material-symbols-outlined text-4xl">emergency</span>
        <span class="text-base font-medium">Emergencia</span>
      </button>
    </div>
  </div>

  <!-- Sección de salud -->
  <h2 class="text-text-light-primary dark:text-text-dark-primary text-[22px] font-bold leading-tight tracking-[-0.015em] px-4 pb-3 pt-5">Tu salud</h2>
  <div class="px-4 pb-4">
    
    <!-- Ritmo cardíaco -->
    <div class="mb-4 rounded-xl bg-card-light dark:bg-card-dark p-4 shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="flex items-center justify-center w-12 h-12 rounded-full bg-primary/10">
            <span class="material-symbols-outlined text-primary text-2xl">favorite</span>
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-light-primary dark:text-text-dark-primary">Ritmo Cardíaco</h3>
            <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Hoy, 10:30 AM</p>
          </div>
        </div>
        <div class="text-right">
          <p class="text-2xl font-bold text-text-light-primary dark:text-text-dark-primary">72</p>
          <p class="text-xs text-text-light-secondary dark:text-text-dark-secondary">BPM</p>
        </div>
      </div>
      <div class="mt-3 pt-3 border-t border-black/5 dark:border-white/5">
        <div class="flex items-center gap-2">
          <span class="text-xs px-2 py-1 rounded bg-primary/10 text-primary font-medium">Normal</span>
          <span class="text-xs text-text-light-secondary dark:text-text-dark-secondary">Rango: 60-100 BPM</span>
        </div>
      </div>
    </div>

    <!-- Pasos -->
    <div class="mb-4 rounded-xl bg-card-light dark:bg-card-dark p-4 shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="flex items-center justify-center w-12 h-12 rounded-full bg-primary/10">
            <span class="material-symbols-outlined text-primary text-2xl">directions_walk</span>
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-light-primary dark:text-text-dark-primary">Pasos</h3>
            <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Hoy</p>
          </div>
        </div>
        <div class="text-right">
          <p class="text-2xl font-bold text-text-light-primary dark:text-text-dark-primary">3,847</p>
          <p class="text-xs text-text-light-secondary dark:text-text-dark-secondary">Meta: 5,000</p>
        </div>
      </div>
      <div class="mt-3 pt-3 border-t border-black/5 dark:border-white/5">
        <div class="w-full bg-icon-bg-light dark:bg-icon-bg-dark rounded-full h-2">
          <div class="bg-primary h-2 rounded-full" style="width: 77%"></div>
        </div>
        <p class="text-xs text-text-light-secondary dark:text-text-dark-secondary mt-2">77% completado</p>
      </div>
    </div>

    <!-- Presión arterial -->
    <div class="mb-4 rounded-xl bg-card-light dark:bg-card-dark p-4 shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="flex items-center justify-center w-12 h-12 rounded-full bg-primary/10">
            <span class="material-symbols-outlined text-primary text-2xl">monitor_heart</span>
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-light-primary dark:text-text-dark-primary">Presión Arterial</h3>
            <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Hoy, 09:00 AM</p>
          </div>
        </div>
        <div class="text-right">
          <p class="text-2xl font-bold text-text-light-primary dark:text-text-dark-primary">120/80</p>
          <p class="text-xs text-text-light-secondary dark:text-text-dark-secondary">mmHg</p>
        </div>
      </div>
      <div class="mt-3 pt-3 border-t border-black/5 dark:border-white/5">
        <div class="flex items-center gap-2">
          <span class="text-xs px-2 py-1 rounded bg-primary/10 text-primary font-medium">Óptima</span>
          <span class="text-xs text-text-light-secondary dark:text-text-dark-secondary">Rango normal</span>
        </div>
      </div>
    </div>

    <!-- Nivel de oxígeno -->
    <div class="mb-4 rounded-xl bg-card-light dark:bg-card-dark p-4 shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="flex items-center justify-center w-12 h-12 rounded-full bg-primary/10">
            <span class="material-symbols-outlined text-primary text-2xl">water_drop</span>
          </div>
          <div>
            <h3 class="text-lg font-bold text-text-light-primary dark:text-text-dark-primary">Nivel de Oxígeno</h3>
            <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Hoy, 10:30 AM</p>
          </div>
        </div>
        <div class="text-right">
          <p class="text-2xl font-bold text-text-light-primary dark:text-text-dark-primary">98%</p>
          <p class="text-xs text-text-light-secondary dark:text-text-dark-secondary">SpO2</p>
        </div>
      </div>
      <div class="mt-3 pt-3 border-t border-black/5 dark:border-white/5">
        <div class="flex items-center gap-2">
          <span class="text-xs px-2 py-1 rounded bg-primary/10 text-primary font-medium">Excelente</span>
          <span class="text-xs text-text-light-secondary dark:text-text-dark-secondary">Rango: 95-100%</span>
        </div>
      </div>
    </div>

  </div>

  <!-- Bottom Navigation -->
  <div class="fixed bottom-0 left-0 right-0 z-20">
    <div class="mx-auto max-w-md bg-white/80 dark:bg-card-dark/80 backdrop-blur-sm border-t border-black/5 dark:border-white/5">
      <div class="flex h-16 items-center justify-around px-2">
        <a class="flex flex-col items-center justify-center gap-1 text-primary" href="index.html">
          <span class="material-symbols-outlined">home</span>
          <span class="text-xs font-medium">Inicio</span>
        </a>
        <a class="flex flex-col items-center justify-center gap-1 text-text-light-secondary dark:text-text-dark-secondary" href="citas.html">
          <span class="material-symbols-outlined">calendar_today</span>
          <span class="text-xs font-medium">Citas</span>
        </a>
        <a class="flex flex-col items-center justify-center gap-1 text-text-light-secondary dark:text-text-dark-secondary" href="calendario.html">
          <span class="material-symbols-outlined">calendar_month</span>
          <span class="text-xs font-medium">Calendario</span>
        </a>
        <a class="flex flex-col items-center justify-center gap-1 text-text-light-secondary dark:text-text-dark-secondary" href="medicamentos.html">
          <span class="material-symbols-outlined">pill</span>
          <span class="text-xs font-medium">Medicinas</span>
        </a>
      </div>
    </div>
  </div>

  <!-- Overlay para el sidebar -->
  <div id="overlay" class="fixed inset-0 bg-black/50 z-50 opacity-0 invisible transition-all duration-300" onclick="cerrarSidebar()"></div>

  <!-- Sidebar de configuración -->
  <div id="sidebar" class="fixed right-0 top-0 h-full w-80 bg-background-light dark:bg-background-dark shadow-2xl z-50 transform translate-x-full transition-transform duration-300">
    <div class="flex items-center justify-between p-4 border-b border-black/5 dark:border-white/5">
      <h3 class="text-lg font-semibold">Configuración</h3>
      <button onclick="cerrarSidebar()" class="flex size-10 items-center justify-center hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark rounded-full transition-colors">
        <span class="material-symbols-outlined">close</span>
      </button>
    </div>
    
    <div class="p-4 space-y-6">
      <!-- Configuración de notificaciones -->
      <div>
        <h4 class="font-medium mb-3">Notificaciones</h4>
        <div class="space-y-3">
          <label class="flex items-center justify-between">
            <span class="text-sm">Recordatorios de medicamentos</span>
            <input type="checkbox" checked class="w-4 h-4 text-primary rounded">
          </label>
          <label class="flex items-center justify-between">
            <span class="text-sm">Recordatorios de citas</span>
            <input type="checkbox" checked class="w-4 h-4 text-primary rounded">
          </label>
          <label class="flex items-center justify-between">
            <span class="text-sm">Alertas de emergencia</span>
            <input type="checkbox" checked class="w-4 h-4 text-primary rounded">
          </label>
        </div>
      </div>

      <!-- Configuración de tema -->
      <div>
        <h4 class="font-medium mb-3">Apariencia</h4>
        <div class="space-y-2">
          <button onclick="setTheme('light')" class="w-full text-left px-3 py-2 rounded-lg hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark transition-colors flex items-center gap-2">
            <span class="material-symbols-outlined">light_mode</span>
            <span class="text-sm">Modo claro</span>
          </button>
          <button onclick="setTheme('dark')" class="w-full text-left px-3 py-2 rounded-lg hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark transition-colors flex items-center gap-2">
            <span class="material-symbols-outlined">dark_mode</span>
            <span class="text-sm">Modo oscuro</span>
          </button>
          <button onclick="setTheme('auto')" class="w-full text-left px-3 py-2 rounded-lg hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark transition-colors flex items-center gap-2">
            <span class="material-symbols-outlined">brightness_auto</span>
            <span class="text-sm">Automático</span>
          </button>
        </div>
      </div>

      <!-- Configuración de idioma -->
      <div>
        <h4 class="font-medium mb-3">Idioma</h4>
        <select class="w-full px-3 py-2 rounded-lg border border-black/5 dark:border-white/5 bg-background-light dark:bg-background-dark">
          <option value="es">Español</option>
          <option value="en">English</option>
          <option value="pt">Português</option>
        </select>
      </div>

      <!-- Información de la app -->
      <div>
        <h4 class="font-medium mb-3">Información</h4>
        <div class="space-y-2 text-sm text-text-light-secondary dark:text-text-dark-secondary">
          <p>Versión: 1.0.0</p>
          <p>Desarrollado para Elderly Care</p>
          <button onclick="mostrarAyuda()" class="text-primary hover:underline">Ver ayuda</button>
        </div>
      </div>

      <!-- Botón de cerrar sesión -->
      <button onclick="cerrarSesion()" class="w-full py-2 bg-emergency text-white rounded-lg hover:bg-red-600 transition-colors flex items-center justify-center gap-2">
        <span class="material-symbols-outlined">logout</span>
        Cerrar sesión
      </button>
    </div>
  </div>

</div>

<script>
// Función de utilidad para notificaciones
function mostrarNotificacion(mensaje, tipo = 'info', duracion = 2000) {
  const notificacion = document.createElement('div');
  notificacion.className = 'notification';
  notificacion.setAttribute('role', 'alert');
  notificacion.setAttribute('aria-live', 'polite');
  
  const iconos = {
    success: 'check_circle',
    error: 'error',
    warning: 'warning',
    info: 'info'
  };
  
  const colores = {
    success: 'notification-success',
    error: 'notification-error',
    warning: 'notification-warning',
    info: 'notification-info'
  };
  
  notificacion.classList.add(colores[tipo] || 'notification-info');
  notificacion.innerHTML = `
    <div class="flex items-center gap-3">
      <span class="material-symbols-outlined">${iconos[tipo] || 'info'}</span>
      <span class="font-medium">${mensaje}</span>
    </div>
  `;
  
  document.body.appendChild(notificacion);
  setTimeout(() => notificacion.classList.add('show'), 100);
  
  setTimeout(() => {
    notificacion.classList.remove('show');
    setTimeout(() => notificacion.remove(), 300);
  }, duracion);
}

// Funciones del recordatorio
function aceptarRecordatorio() {
  const recordatorio = document.getElementById('recordatorio');
  recordatorio.style.maxHeight = '0px';
  recordatorio.style.padding = '0px';
  recordatorio.style.marginTop = '0px';
  mostrarNotificacion('Recordatorio confirmado', 'success', 2000);
  setTimeout(() => {
    recordatorio.style.display = 'none';
  }, 300);
}

function posponerRecordatorio() {
  const recordatorio = document.getElementById('recordatorio');
  recordatorio.style.maxHeight = '0px';
  recordatorio.style.padding = '0px';
  recordatorio.style.marginTop = '0px';
  mostrarNotificacion('Recordatorio pospuesto por 15 minutos', 'info', 2000);
  setTimeout(() => {
    recordatorio.style.display = 'none';
  }, 300);
}

// Funciones del sidebar
function abrirSidebar() {
  document.getElementById('sidebar').classList.remove('translate-x-full');
  document.getElementById('overlay').classList.remove('invisible', 'opacity-0');
}

function cerrarSidebar() {
  document.getElementById('sidebar').classList.add('translate-x-full');
  document.getElementById('overlay').classList.add('invisible', 'opacity-0');
}

function setTheme(theme) {
  const html = document.documentElement;
  const icon = document.getElementById('dark-mode-icon');
  
  if (theme === 'dark') {
    html.classList.add('dark');
    if (icon) icon.textContent = 'light_mode';
  } else if (theme === 'light') {
    html.classList.remove('dark');
    if (icon) icon.textContent = 'dark_mode';
  } else {
    html.classList.remove('dark');
    if (icon) icon.textContent = 'dark_mode';
  }
}

function toggleDarkMode() {
  const html = document.documentElement;
  if (html.classList.contains('dark')) {
    setTheme('light');
  } else {
    setTheme('dark');
  }
}

function mostrarAyuda() {
  mostrarNotificacion('Abriendo centro de ayuda', 'info', 2000);
}

function cerrarSesion() {
  const overlay = document.createElement('div');
  overlay.className = 'fixed inset-0 bg-black/50 z-50 flex items-center justify-center';
  overlay.innerHTML = `
    <div class="bg-background-light dark:bg-background-dark rounded-xl p-6 m-4 max-w-sm w-full shadow-2xl">
      <h3 class="text-lg font-semibold mb-4">¿Cerrar sesión?</h3>
      <p class="text-text-light-secondary dark:text-text-dark-secondary mb-6">¿Estás seguro de que quieres cerrar sesión?</p>
      <div class="flex gap-3">
        <button onclick="this.closest('.fixed').remove()" class="flex-1 py-2 px-4 rounded-lg border border-black/5 dark:border-white/5 hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark transition-colors">
          Cancelar
        </button>
        <button onclick="confirmarCerrarSesion()" class="flex-1 py-2 px-4 rounded-lg bg-emergency text-white hover:bg-red-600 transition-colors">
          Cerrar sesión
        </button>
      </div>
    </div>
  `;
  document.body.appendChild(overlay);
}

function confirmarCerrarSesion() {
  mostrarNotificacion('Sesión cerrada', 'success', 3000);
  document.querySelector('.fixed.inset-0.bg-black\\/50').remove();
}

function mostrarAlarma() {
  mostrarNotificacion('Alarma configurada', 'success', 2000);
}

function mostrarEmergencia() {
  mostrarNotificacion('⚠️ Emergencia activada - Contactando servicios de ayuda', 'error', 3000);
}

// Atajo de teclado para emergencia
document.addEventListener('keydown', function(e) {
  if (e.ctrlKey && e.key === 'e') {
    e.preventDefault();
    mostrarEmergencia();
  }
});
</script>

</body>
</html>