<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Mis Citas - Elderly Care</title>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Lexend:wght@400;500;700&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>
<script>
  tailwind.config = {
    darkMode: "class",
    theme: {
      extend: {
        colors: {
          "primary": "#13ec5b",
          "background-light": "#f6f8f6",
          "background-dark": "#102216",
          "card-light": "#ffffff",
          "card-dark": "#1a2c20",
          "text-light-primary": "#111813",
          "text-dark-primary": "#e3f3e8",
          "text-light-secondary": "#61896f",
          "text-dark-secondary": "#9dc2a8",
          "icon-bg-light": "#f0f4f2",
          "icon-bg-dark": "#2a3f31",
          "emergency": "#D0021B",
          "warning": "#f59e0b",
        },
        fontFamily: {
          "display": ["Lexend", "sans-serif"]
        },
        borderRadius: {"DEFAULT": "0.5rem", "lg": "0.75rem", "xl": "1rem", "full": "9999px"},
      },
    },
  }
</script>
<style>
  .material-symbols-outlined {
    font-variation-settings:
    'FILL' 0,
    'wght' 400,
    'GRAD' 0,
    'opsz' 24
  }
  body {
    min-height: max(884px, 100dvh);
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
</style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-light-primary dark:text-text-dark-primary">
<div class="relative flex h-auto min-h-screen w-full flex-col group/design-root overflow-x-hidden pb-32">
  
  <!-- Header -->
  <div class="flex items-center bg-background-light dark:bg-background-dark p-4 pb-2 justify-between sticky top-0 z-10 backdrop-blur-sm bg-background-light/80 dark:bg-background-dark/80">
    <div class="flex items-center gap-3">
      <a href="index.html" class="flex size-10 items-center justify-center hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark rounded-full transition-colors">
        <span class="material-symbols-outlined text-2xl">arrow_back</span>
      </a>
      <h2 class="text-text-light-primary dark:text-text-dark-primary text-lg font-bold leading-tight tracking-[-0.015em]">Mis Citas</h2>
    </div>
    <div class="flex items-center gap-2">
      <button onclick="toggleDarkMode()" class="flex size-10 items-center justify-center hover:bg-icon-bg-light dark:hover:bg-icon-bg-dark rounded-full transition-colors">
        <span id="dark-mode-icon" class="material-symbols-outlined text-xl">dark_mode</span>
      </button>
      <button class="flex max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-full h-10 w-10 bg-transparent text-text-light-primary dark:text-text-dark-primary">
        <span class="material-symbols-outlined">calendar_today</span>
      </button>
    </div>
  </div>

  <!-- Filtros de período -->
  <div class="px-4 py-3">
    <div class="flex h-11 items-center justify-center rounded-xl bg-card-light dark:bg-card-dark p-1 shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none">
      <label class="flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-lg px-3 has-[:checked]:bg-primary has-[:checked]:text-background-dark text-text-light-secondary dark:text-text-dark-secondary text-sm font-medium leading-normal transition-all">
        <span class="truncate">Día</span>
        <input class="invisible w-0" name="date-filter" type="radio" value="Día"/>
      </label>
      <label class="flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-lg px-3 has-[:checked]:bg-primary has-[:checked]:text-background-dark text-text-light-secondary dark:text-text-dark-secondary text-sm font-medium leading-normal transition-all">
        <span class="truncate">Semana</span>
        <input checked="" class="invisible w-0" name="date-filter" type="radio" value="Semana"/>
      </label>
      <label class="flex cursor-pointer h-full grow items-center justify-center overflow-hidden rounded-lg px-3 has-[:checked]:bg-primary has-[:checked]:text-background-dark text-text-light-secondary dark:text-text-dark-secondary text-sm font-medium leading-normal transition-all">
        <span class="truncate">Mes</span>
        <input class="invisible w-0" name="date-filter" type="radio" value="Mes"/>
      </label>
    </div>
  </div>

  <!-- Lista de citas -->
  <div class="px-4 pb-4">
    <h3 class="text-text-light-primary dark:text-text-dark-primary text-[22px] font-bold leading-tight tracking-[-0.015em] pb-4">Próximas Citas</h3>

    <!-- Tarjeta de Cita 1 - Confirmada -->
    <div class="mb-4 rounded-xl bg-card-light dark:bg-card-dark p-4 shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none border-l-4 border-primary">
      <div class="flex gap-4 items-start">
        <!-- Información -->
        <div class="flex-1">
          <div class="flex items-center gap-2 mb-2">
            <span class="material-symbols-outlined text-text-light-secondary dark:text-text-dark-secondary text-xl">schedule</span>
            <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Lunes, 11 Nov - 10:30 AM</p>
          </div>
          <h4 class="text-lg font-bold text-text-light-primary dark:text-text-dark-primary mb-1">Dra. Ana Torres</h4>
          <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary mb-1">Cardiología</p>
          <div class="flex items-start gap-1 mt-2">
            <span class="material-symbols-outlined text-text-light-secondary dark:text-text-dark-secondary text-base mt-0.5">location_on</span>
            <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Clínica Corazón Sano, Av. Principal 123</p>
          </div>
          
          <!-- Estado -->
          <div class="flex items-center gap-2 mt-3 px-3 py-1.5 bg-primary/10 rounded-lg inline-flex">
            <span class="material-symbols-outlined text-primary text-base">check_circle</span>
            <span class="text-sm font-medium text-primary">Confirmada</span>
          </div>
        </div>
        
        <!-- Foto del doctor -->
        <div class="w-20 h-20 bg-center bg-no-repeat bg-cover rounded-lg flex-shrink-0" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuAUcB5YtVp5zdXbZeSY2JmCDlzjaymSDSpXv9Gq4ctfJ26lkh9oiChyrNzhkoxF2xF74PyfurA39rz73snHkNikVw6nkFK2lUhkS6Yl_O1O00BDSjU8uoybCLBCq3ubGdFOPa4DEJJUxKUH9eH01iUZPTb5Oc1kG5YkzEjyKLLJNQCmVneSQlpiDmEcewnmxlEwn93LH2UjX98INt0Br6icAPaK3DW3QcuCguQm4hkKEmw91aPmpYD6xRPhqh8uuvupw1Kxpd-f99ko");'></div>
      </div>
      
      <!-- Botones de acción -->
      <div class="flex gap-2 mt-4 pt-3 border-t border-black/5 dark:border-white/5">
        <button onclick="llamarDoctor('Dra. Ana Torres', '555-123-4567')" class="flex-1 py-2.5 rounded-lg bg-icon-bg-light dark:bg-icon-bg-dark text-text-light-primary dark:text-text-dark-primary font-medium text-sm flex items-center justify-center gap-2 hover:bg-primary/20 dark:hover:bg-primary/20 transition-colors">
          <span class="material-symbols-outlined text-base">phone</span>
          Llamar
        </button>
        <button onclick="mostrarUbicacion('Clínica Corazón Sano, Av. Principal 123')" class="flex-1 py-2.5 rounded-lg bg-icon-bg-light dark:bg-icon-bg-dark text-text-light-primary dark:text-text-dark-primary font-medium text-sm flex items-center justify-center gap-2 hover:bg-primary/20 dark:hover:bg-primary/20 transition-colors">
          <span class="material-symbols-outlined text-base">directions</span>
          Ubicación
        </button>
      </div>
    </div>

    <!-- Tarjeta de Cita 2 - Pendiente -->
    <div class="mb-4 rounded-xl bg-card-light dark:bg-card-dark p-4 shadow-[0_4px_12px_rgba(0,0,0,0.05)] dark:shadow-none border-l-4 border-warning">
      <div class="flex gap-4 items-start">
        <!-- Información -->
        <div class="flex-1">
          <div class="flex items-center gap-2 mb-2">
            <span class="material-symbols-outlined text-text-light-secondary dark:text-text-dark-secondary text-xl">schedule</span>
            <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Miércoles, 13 Nov - 09:00 AM</p>
          </div>
          <h4 class="text-lg font-bold text-text-light-primary dark:text-text-dark-primary mb-1">Dr. Carlos Ruiz</h4>
          <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary mb-1">Dermatología</p>
          <div class="flex items-start gap-1 mt-2">
            <span class="material-symbols-outlined text-text-light-secondary dark:text-text-dark-secondary text-base mt-0.5">location_on</span>
            <p class="text-sm text-text-light-secondary dark:text-text-dark-secondary">Hospital Central, Piso 3</p>
          </div>
          
          <!-- Estado -->
          <div class="flex items-center gap-2 mt-3 px-3 py-1.5 bg-warning/10 rounded-lg inline-flex">
            <span class="material-symbols-outlined text-warning text-base">hourglass_top</span>
            <span class="text-sm font-medium text-warning">Por confirmar</span>
          </div>
        </div>
        
        <!-- Foto del doctor -->
        <div class="w-20 h-20 bg-center bg-no-repeat bg-cover rounded-lg flex-shrink-0" style='background-image: url("https://lh3.googleusercontent.com/aida-public/AB6AXuDRPYxkPIQWYxIMiZE_W8L90G1-6rm1CSKWjNj4l9eIoqr14rXMSjV9tE2tiM5Mo9r8jMWT_Wi8r20EUZTvpGUJY_k8takq90xjkOFGPxXMNrigzq3NGQHIWrney2UBqfTlSjhN7jtkJPThjZYl18yUWoceZjQJdFXyJAiHeKihv6wYFzCu2mqVtsacm56VsJugy-WKNQLc_hhUbaw0ZZAb6C5EEKeOHWWcjuTLklzaRmPOZpqHAyE0Nt6EnSFuQJwwCwbVsn20MTdB");'></div>
      </div>
      
      <!-- Botones de acción -->
      <div class="flex gap-2 mt-4 pt-3 border-t border-black/5 dark:border-white/5">
        <button onclick="confirmarCita('Dr. Carlos Ruiz', 'Miércoles, 13 Nov - 09:00 AM')" class="flex-1 py-2.5 rounded-lg bg-primary text-background-dark font-medium text-sm flex items-center justify-center gap-2 hover:bg-primary-dark transition-colors">
          <span class="material-symbols-outlined text-base">check</span>
          Confirmar
        </button>
        <button onclick="cancelarCita('Dr. Carlos Ruiz', 'Miércoles, 13 Nov - 09:00 AM')" class="flex-1 py-2.5 rounded-lg bg-icon-bg-light dark:bg-icon-bg-dark text-text-light-primary dark:text-text-dark-primary font-medium text-sm flex items-center justify-center gap-2 hover:bg-red-100 dark:hover:bg-red-900/20 transition-colors">
          <span class="material-symbols-outlined text-base">close</span>
          Cancelar
        </button>
      </div>
    </div>

    <!-- Estado vacío -->
    <div class="flex flex-col items-center justify-center text-center p-8 mt-6 bg-icon-bg-light dark:bg-icon-bg-dark rounded-xl">
      <span class="material-symbols-outlined text-6xl text-text-light-secondary dark:text-text-dark-secondary mb-3">event_available</span>
      <h3 class="text-text-light-primary dark:text-text-dark-primary text-lg font-bold leading-tight mb-2">No tienes más citas esta semana</h3>
      <p class="text-text-light-secondary dark:text-text-dark-secondary text-sm">Pulsa el botón '+' para programar una nueva cita médica.</p>
    </div>
  </div>

  <!-- Botón flotante -->
  <div class="fixed bottom-20 right-6 z-10">
    <button onclick="agregarNuevaCita()" class="flex items-center justify-center w-14 h-14 bg-primary text-background-dark rounded-full shadow-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-primary/30 transition-all hover:scale-110">
      <span class="material-symbols-outlined text-3xl">add</span>
    </button>
  </div>

  <!-- Bottom Navigation -->
  <div class="fixed bottom-0 left-0 right-0 z-20">
    <div class="mx-auto max-w-md bg-white/80 dark:bg-card-dark/80 backdrop-blur-sm border-t border-black/5 dark:border-white/5">
      <div class="flex h-16 items-center justify-around px-2">
        <a class="flex flex-col items-center justify-center gap-1 text-text-light-secondary dark:text-text-dark-secondary" href="index.html">
          <span class="material-symbols-outlined">home</span>
          <span class="text-xs font-medium">Inicio</span>
        </a>
        <a class="flex flex-col items-center justify-center gap-1 text-primary" href="citas.html">
          <span class="material-symbols-outlined">calendar_today</span>
          <span class="text-xs font-medium">Citas</span>
        </a>
        <a class="flex flex-col items-center justify-center gap-1 text-text-light-secondary dark:text-text-dark-secondary" href="calendario.html">
          <span class="material-symbols-outlined">calendar_month</span>
          <span class="text-xs font-medium">Calendario</span>
        </a>
        <a class="flex flex-col items-center justify-center gap-1 text-text-light-secondary dark:text-text-dark-secondary" href="medicamentos.html">
          <span class="material-symbols-outlined">pill</span>
          <span class="text-xs font-medium">Medicinas</span>
        </a>
      </div>
    </div>
  </div>
</div>
  <script>
    // Función de utilidad para notificaciones (reutilizar)
    function mostrarNotificacion(mensaje, tipo = 'info', duracion = 2000) {
      const notificacion = document.createElement('div');
      notificacion.className = 'notification';
      notificacion.setAttribute('role', 'alert');
      notificacion.setAttribute('aria-live', 'polite');
      
      const iconos = {
        success: 'check_circle',
        error: 'error',
        warning: 'warning',
        info: 'info'
      };
      
      const colores = {
        success: 'notification-success',
        error: 'notification-error',
        warning: 'notification-warning',
        info: 'notification-info'
      };
      
      notificacion.classList.add(colores[tipo] || 'notification-info');
      notificacion.innerHTML = `
        <div class="flex items-center gap-3">
          <span class="material-symbols-outlined">${iconos[tipo] || 'info'}</span>
          <span class="font-medium">${mensaje}</span>
        </div>
      `;
      
      document.body.appendChild(notificacion);
      setTimeout(() => notificacion.classList.add('show'), 100);
      
      setTimeout(() => {
        notificacion.classList.remove('show');
        setTimeout(() => notificacion.remove(), 300);
      }, duracion);
    }

    // Funciones para citas - Sin ventanas emergentes
    function llamarDoctor(nombre, telefono) {
      mostrarNotificacion(`Llamando a ${nombre}: ${telefono}`, 'info', 3000);
    }

    function mostrarUbicacion(direccion) {
      mostrarNotificacion(`Abriendo ubicación: ${direccion}`, 'info', 3000);
    }

    function confirmarCita(doctor, fecha) {
      mostrarNotificacion(`Cita con ${doctor} confirmada`, 'success', 2000);
      
      // Actualizar el botón para feedback visual
      const boton = event.target;
      boton.textContent = 'Confirmada ✓';
      boton.classList.remove('bg-primary', 'hover:bg-primary-dark');
      boton.classList.add('bg-success', 'text-white');
      boton.disabled = true;
    }

    function cancelarCita(doctor, fecha) {
      mostrarNotificacion(`Cita con ${doctor} cancelada`, 'warning', 2000);
      
      // Actualizar el botón para feedback visual
      const boton = event.target;
      boton.textContent = 'Cancelada ✓';
      boton.classList.remove('bg-error', 'hover:bg-red-600');
      boton.classList.add('bg-gray-400', 'text-white');
      boton.disabled = true;
    }

    function agregarNuevaCita() {
      mostrarNotificacion('Nueva cita agregada exitosamente', 'success', 2000);
    }

    function mostrarPerfil() {
      mostrarNotificacion('Abriendo perfil del doctor...', 'info', 2000);
    }

    // Función de filtro de citas
    function filtrarCitas(periodo) {
      console.log(`Filtrar citas por: ${periodo}`);
      // Actualizar estado activo del botón
      document.querySelectorAll('.bg-primary').forEach(btn => {
        btn.classList.remove('bg-primary', 'text-background-dark');
        btn.classList.add('bg-icon-bg-light', 'dark:bg-icon-bg-dark', 'text-text-light-primary', 'dark:text-text-dark-primary');
      });
      
      event.target.classList.remove('bg-icon-bg-light', 'dark:bg-icon-bg-dark', 'text-text-light-primary', 'dark:text-text-dark-primary');
      event.target.classList.add('bg-primary', 'text-background-dark');
    }

    // Theme management - synchronized with index.html
    function setTheme(theme) {
      const html = document.documentElement;
      const icon = document.getElementById('dark-mode-icon');
      
      if (theme === 'dark') {
        html.classList.add('dark');
        if (icon) icon.textContent = 'light_mode';
        localStorage.setItem('theme', 'dark');
      } else if (theme === 'light') {
        html.classList.remove('dark');
        if (icon) icon.textContent = 'dark_mode';
        localStorage.setItem('theme', 'light');
      } else { // auto
        html.classList.remove('dark');
        if (icon) icon.textContent = 'dark_mode';
        localStorage.removeItem('theme');
      }
    }

    function toggleDarkMode() {
      const temaActual = localStorage.getItem('theme');
      if (temaActual === 'dark') {
        setTheme('light');
      } else {
        setTheme('dark');
      }
    }

    // Sincronizar tema con index.html
    function sincronizarTema() {
      const temaGuardado = localStorage.getItem('theme');
      if (temaGuardado === 'dark' || temaGuardado === 'light') {
        setTheme(temaGuardado);
      } else {
        // Auto mode - remove dark class
        document.documentElement.classList.remove('dark');
        const icon = document.getElementById('dark-mode-icon');
        if (icon) icon.textContent = 'dark_mode';
      }
    }

    // Cargar tema al iniciar
    document.addEventListener('DOMContentLoaded', function() {
      sincronizarTema();
    });

    // Escuchar cambios en localStorage para sincronización en tiempo real
    window.addEventListener('storage', function(e) {
      if (e.key === 'theme') {
        sincronizarTema();
      }
    });

    // Atajo de teclado para funciones importantes
    document.addEventListener('keydown', function(e) {
      if (e.ctrlKey && e.key === 'e') {
        e.preventDefault();
        alert('Función de emergencia activada');
      }
    });
  </script>

</body>
</html>